<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Let's Shop</title>
  <style>
    body { margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif; background:#1f2a30; color:#fff; }
    h1 { text-align:center; padding:1em; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill, minmax(90px,1fr)); gap:10px; padding:10px; }
    .item { background:#e2e8f0; color:#1f2937; border-radius:10px; padding:8px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,.25); cursor:pointer; transition:transform .2s, background-color .2s; }
    .item.selected { background-color:#AFE1AF; transform:scale(1.05); }
    .thumb { width:56px; height:56px; margin:2px auto 6px; font-size:30px; display:grid; place-items:center; background:#f5f7fa; border-radius:12px; box-shadow: inset 0 1px 0 rgba(255,255,255,.6), inset 0 -6px 12px rgba(0,0,0,.06); }
    .button-wrapper { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); z-index:10; display:flex; gap:10px; }
    button { padding:1em 1.4em; font-size:1em; background:#22c55e; color:#fff; border:none; border-radius:8px; cursor:pointer; }
    .home-btn { background:#3b82f6; }
    .back-btn { background:#555; margin-bottom:1em; }
    .list-screen { display:none; padding:1em; }
    .category { margin-bottom:1em; }
    .category h2 { margin-bottom:.5em; }
    .add-item { display:flex; justify-content:center; gap:6px; margin:10px; }
    .add-item input { padding:.5em; font-size:1em; }
  </style>
</head>
<body>
  <h1>ğŸ›’ Tap to Add to List</h1>
  <div class="add-item">
    <input type="text" id="newItem" placeholder="Add item..." />
    <button onclick="addNewItem()">Add</button>
  </div>

  <div class="grid" id="itemGrid"></div>

  <div class="button-wrapper">
    <button onclick="showList()">Let's Shop</button>
    <button class="home-btn" onclick="window.location.href='index.html'">ğŸ  Home</button>
  </div>

  <div class="list-screen" id="listScreen">
    <button class="back-btn" onclick="goBack()">â¬… Back</button>
    <div id="finalList"></div>
  </div>

  <script>
    var categories = {
      1: 'Bread, fruit, veg',
      2: 'Meat and deli',
      3: 'Cereals, spreads',
      4: 'Confectionery, chocolate etc',
      5: 'Stocks, pasta, rice, tinned veg, international foods',
      6: 'Dog food, cleaning products, paper towels, toilet paper',
      7: 'Dairy',
      8: 'Frozen',
      9: 'Health'
    };

    var EMOJI = {
      'Bread':'ğŸ','Milk':'ğŸ¥›','Cream':'ğŸ¥›','Regular Cheese':'ğŸ§€','Feta':'ğŸ§€','Butter':'ğŸ§ˆ',
      'Capsicums':'ğŸ«‘','Onions':'ğŸ§…','Potatoes':'ğŸ¥”','Salad':'ğŸ¥—','Thyme':'ğŸŒ¿','Parsley':'ğŸŒ¿','Coriander':'ğŸŒ¿','Garlic':'ğŸ§„',
      'Bananas':'ğŸŒ','Lemons':'ğŸ‹','Limes':'ğŸˆ','Tomatoes':'ğŸ…','Cherry Tomatoes':'ğŸ…','Kumara':'ğŸ ','Ginger':'ğŸ«š','Leeks':'ğŸ§…','Green Beans':'ğŸ«›','Broccoli':'ğŸ¥¦','Courgettes':'ğŸ¥’','Spinach':'ğŸ¥¬','Mushrooms':'ğŸ„',
      'Beef Mince':'ğŸ¥©','Pork Mince':'ğŸ¥©','Steak':'ğŸ¥©','Chicken':'ğŸ—','Ham':'ğŸ–','Lamb':'ğŸ–','Bacon':'ğŸ¥“',
      "Shell's Cereal":'ğŸ¥£',"Dunc's Cereal":'ğŸ¥£','Vogel Bread':'ğŸ','Branston':'ğŸ«™','Peanut Butter':'ğŸ¥œ','Marmite':'ğŸ«™','Marmalade':'ğŸ«™','Chocolate':'ğŸ«',
      'Tinned Tomatoes':'ğŸ…','Tinned Beans':'ğŸ«˜','Beef Stock':'ğŸ§‚','Chicken Stock':'ğŸ§‚',
      'Dog Food':'ğŸ¦´','Paper Towels':'ğŸ§»','Toilet Paper':'ğŸ§»','Toothpaste':'ğŸª¥','Frozen Veg':'ğŸ¥¶','Ice Cream':'ğŸ¨',
      'Tomato Sauce':'ğŸ…','Mayonnaise':'ğŸ§´','Soy Sauce':'ğŸ¶','Oyster Sauce':'ğŸ§´','Garlic Powder':'ğŸ§„','Onion Powder':'ğŸ§…','Paprika':'ğŸŒ¶ï¸','Oxo Cubes':'ğŸ§‚','Burger Sauce':'ğŸ”'
    };

    var items = [
      { name:'Bread', category:1 },{ name:'Milk', category:7 },{ name:'Cream', category:7 },{ name:'Regular Cheese', category:7 },{ name:'Feta', category:7 },{ name:'Butter', category:7 },
      { name:'Capsicums', category:1 },{ name:'Onions', category:1 },{ name:'Potatoes', category:1 },{ name:'Salad', category:1 },{ name:'Thyme', category:1 },{ name:'Parsley', category:1 },{ name:'Coriander', category:1 },{ name:'Garlic', category:1 },
      { name:'Bananas', category:1 },{ name:'Lemons', category:1 },{ name:'Limes', category:1 },{ name:'Tomatoes', category:1 },{ name:'Cherry Tomatoes', category:1 },{ name:'Kumara', category:1 },{ name:'Ginger', category:1 },{ name:'Leeks', category:1 },{ name:'Green Beans', category:1 },{ name:'Broccoli', category:1 },{ name:'Courgettes', category:1 },{ name:'Spinach', category:1 },{ name:'Mushrooms', category:1 },
      { name:'Beef Mince', category:2 },{ name:'Pork Mince', category:2 },{ name:'Steak', category:2 },{ name:'Chicken', category:2 },{ name:'Ham', category:2 },{ name:'Lamb', category:2 },{ name:'Bacon', category:2 },
      { name:"Shell's Cereal", category:3 },{ name:"Dunc's Cereal", category:3 },{ name:'Vogel Bread', category:1 },{ name:'Branston', category:3 },{ name:'Peanut Butter', category:3 },{ name:'Marmite', category:3 },{ name:'Marmalade', category:3 },{ name:'Chocolate', category:4 },
      { name:'Tinned Tomatoes', category:5 },{ name:'Tinned Beans', category:5 },{ name:'Beef Stock', category:5 },{ name:'Chicken Stock', category:5 },
      { name:'Tomato Sauce', category:5 },{ name:'Mayonnaise', category:5 },{ name:'Soy Sauce', category:5 },{ name:'Oyster Sauce', category:5 },{ name:'Garlic Powder', category:5 },{ name:'Onion Powder', category:5 },{ name:'Paprika', category:5 },{ name:'Oxo Cubes', category:5 },{ name:'Burger Sauce', category:5 },
      { name:'Dog Food', category:6 },{ name:'Paper Towels', category:6 },{ name:'Toilet Paper', category:6 },{ name:'Toothpaste', category:9 },{ name:'Frozen Veg', category:8 },{ name:'Ice Cream', category:8 }
    ];

    var grid = document.getElementById('itemGrid');
    var selected = new Set();

   <script>
  function renderGrid(){
    grid.innerHTML = '';
    items.sort(function(a,b){ return a.name.localeCompare(b.name); });

    for (var i = 0; i < items.length; i++){
      (function(name){
        var icon = EMOJI[name] || 'ğŸ›’';
        var div = document.createElement('div');

        // Preserve visual selection after re-render
        div.className = 'item' + (selected.has(name) ? ' selected' : '');
        div.innerHTML = '<div class="thumb">' + icon + '</div><div>' + name + '</div>';

        // Keep Set and CSS class in sync
        div.onclick = function(){
          if (selected.has(name)) {
            selected.delete(name);
            div.classList.remove('selected');
          } else {
            selected.add(name);
            div.classList.add('selected');
          }
        };

        grid.appendChild(div);
      })(items[i].name);
    }
  }
</script>



    function addNewItem(){
      var val = document.getElementById('newItem').value.trim();
      if (!val) return;
      var parts = val.split(' ');
      var clean = [];
      for (var j=0;j<parts.length;j++){ var w = parts[j].trim(); if(w){ clean.push(w.charAt(0).toUpperCase()+w.slice(1)); } }
      var cap = clean.join(' ');
      items.push({ name: cap, category: 5 });
      document.getElementById('newItem').value = '';
      renderGrid();
    }

    function showList(){
      var listScreen = document.getElementById('listScreen');
      var finalList = document.getElementById('finalList');
      finalList.innerHTML = '';
      var byCat = {};
      selected.forEach(function(name){
        var found = null;
        for (var i=0;i<items.length;i++){ if(items[i].name === name){ found = items[i]; break; } }
        if (!found) return;
        var cat = found.category;
        if (!byCat[cat]) byCat[cat] = [];
        var emoji = EMOJI[name] || 'ğŸ›’';
        byCat[cat].push(emoji + ' ' + name);
      });

      var keys = Object.keys(categories);
      for (var k=0;k<keys.length;k++){
        var catNum = keys[k];
        var names = byCat[catNum];
        if (names && names.length){
          names.sort(function(a,b){ return a.localeCompare(b); });
          var catDiv = document.createElement('div');
          catDiv.className = 'category';
          var html = '<h2>'+categories[catNum]+'</h2><ul>';
          for (var m=0;m<names.length;m++){ html += '<li>'+names[m]+'</li>'; }
          html += '</ul>';
          catDiv.innerHTML = html;
          finalList.appendChild(catDiv);
        }
      }

      document.querySelector('h1').style.display = 'none';
      document.querySelector('.add-item').style.display = 'none';
      grid.style.display = 'none';
      document.querySelector('.button-wrapper').style.display = 'none';
      listScreen.style.display = 'block';
      window.scrollTo(0,0);
    }

    function goBack(){
      document.querySelector('h1').style.display = 'block';
      document.querySelector('.add-item').style.display = 'flex';
      grid.style.display = 'grid';
      document.querySelector('.button-wrapper').style.display = 'flex';
      document.getElementById('listScreen').style.display = 'none';
    }
  </script>
</body>
</html>


