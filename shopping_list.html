<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Let's Shop</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #f5f5f5;
      color: #333;
    }
    h1 {
      text-align: center;
      padding: 1em;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 10px;
      padding: 10px;
    }
    .item {
      background: #fff;
      border-radius: 10px;
      padding: 8px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s, border 0.2s;
    }
    .item img {
      width: 60px;
      height: 60px;
      object-fit: contain;
    }
    .item.selected {
      border: 3px solid #27ae60;
      transform: scale(1.05);
    }
    .button-wrapper {
      text-align: center;
      margin: 1em 0;
    }
    button {
      padding: 1em 2em;
      font-size: 1em;
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .list-screen {
      display: none;
      padding: 1em;
    }
    .back-btn {
      background: #555;
      margin-bottom: 1em;
    }
    .category {
      margin-bottom: 1em;
    }
    .category h2 {
      margin-bottom: 0.5em;
    }
  </style>
</head>
<body>
  <h1>ðŸ›’ Tap to Add to List</h1>
  <div class="grid" id="itemGrid"></div>
  <div class="button-wrapper">
    <button onclick="showList()">Let's Shop</button>
  </div>

  <div class="list-screen" id="listScreen">
    <button class="back-btn" onclick="goBack()">â¬… Back</button>
    <div id="finalList"></div>
  </div>

  <script>
    const items = [
      { name: "Bacon", category: 2 }, { name: "Bananas", category: 1 }, { name: "Beef Mince", category: 2 }, { name: "Beef Stock", category: 5 },
      { name: "Branston", category: 3 }, { name: "Broccoli", category: 1 }, { name: "Butter", category: 7 }, { name: "Capsicums", category: 1 },
      { name: "Chicken", category: 2 }, { name: "Chicken Stock", category: 5 }, { name: "Chocolate", category: 4 }, { name: "Coriander", category: 1 },
      { name: "Cream", category: 7 }, { name: "Dunc's Cereal", category: 3 }, { name: "Dog Food", category: 6 }, { name: "Feta", category: 7 },
      { name: "Frozen Veg", category: 8 }, { name: "Garlic", category: 1 }, { name: "Ginger", category: 1 }, { name: "Green Beans", category: 1 },
      { name: "Ham", category: 2 }, { name: "Ice Cream", category: 8 }, { name: "Kumara", category: 1 }, { name: "Lamb", category: 2 },
      { name: "Leeks", category: 1 }, { name: "Lemons", category: 1 }, { name: "Limes", category: 1 }, { name: "Marmalade", category: 3 },
      { name: "Marmite", category: 3 }, { name: "Milk", category: 7 }, { name: "Onions", category: 1 }, { name: "Paper Towels", category: 6 },
      { name: "Parsley", category: 1 }, { name: "Peanut Butter", category: 3 }, { name: "Pork Mince", category: 2 }, { name: "Potatoes", category: 1 },
      { name: "Regular Cheese", category: 7 }, { name: "Salad", category: 1 }, { name: "Shell's Cereal", category: 3 }, { name: "Spinach", category: 1 },
      { name: "Steak", category: 2 }, { name: "Thyme", category: 1 }, { name: "Tinned Beans", category: 5 }, { name: "Tinned Tomatoes", category: 5 },
      { name: "Toilet Paper", category: 6 }, { name: "Tomatoes", category: 1 }, { name: "Toothpaste", category: 9 }, { name: "Vogel Bread", category: 1 },
      { name: "Zucchini", category: 1 }
    ];

    const categories = {
      1: "Bread, Fruit, Veg",
      2: "Meat and Deli",
      3: "Cereals, Spreads",
      4: "Confectionery",
      5: "Pantry Items",
      6: "Cleaning & Pets",
      7: "Dairy",
      8: "Frozen",
      9: "Health"
    };

    const grid = document.getElementById("itemGrid");
    const selected = new Set();

    items.sort((a, b) => a.name.localeCompare(b.name));
    items.forEach(({ name }) => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<img src="https://dummyimage.com/80x80/ccc/fff&text=${encodeURIComponent(name)}"><br>${name}`;
      div.onclick = () => {
        div.classList.toggle("selected");
        selected.has(name) ? selected.delete(name) : selected.add(name);
      };
      grid.appendChild(div);
    });

    function showList() {
      const listScreen = document.getElementById("listScreen");
      const finalList = document.getElementById("finalList");
      finalList.innerHTML = "";
      const byCat = {};
      selected.forEach(name => {
        const { category } = items.find(i => i.name === name);
        if (!byCat[category]) byCat[category] = [];
        byCat[category].push(name);
      });

      Object.keys(categories).forEach(catNum => {
        const names = byCat[catNum];
        if (names && names.length > 0) {
          const catDiv = document.createElement("div");
          catDiv.className = "category";
          catDiv.innerHTML = `<h2>${categories[catNum]}</h2><ul>` + names.map(n => `<li>${n}</li>`).join("") + "</ul>";
          finalList.appendChild(catDiv);
        }
      });

      document.querySelector("h1").style.display = "none";
      grid.style.display = "none";
      document.querySelector(".button-wrapper").style.display = "none";
      listScreen.style.display = "block";
    }

    function goBack() {
      document.querySelector("h1").style.display = "block";
      grid.style.display = "grid";
      document.querySelector(".button-wrapper").style.display = "block";
      document.getElementById("listScreen").style.display = "none";
    }
  </script>
</body>
</html>
