//html_content = """<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Golf Pairings Randomizer</title>
  <style>
    :root{
      --bg:#26323a;           /* gunmetal/charcoal */
      --bg2:#1f2a31;          /* deeper charcoal */
      --card:#2b3943;         /* panel */
      --ink:#ffffff;          /* white text */
      --ink-dim:#c9d4dc;      /* dim text */
      --chip:#3f5563;         /* 25% lighter button */
      --chip-text:#d6dee4;    /* light grey font */
      --chip-sel:#ffffff;     /* selected border (white) */
      --chip-sel-bg:#00c389;  /* selected bg green */
      --accent:#00c389;       /* buttons */
      --accent-2:#00b2ff;     /* secondary */
      --border:#41515c;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Calibri, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:var(--ink);
      background: linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
      display:flex; align-items:center; justify-content:center; padding:16px;
    }
    .app{width:100%; max-width:820px; background:var(--card); border:1px solid var(--border); border-radius:18px; padding:16px; box-shadow:0 10px 40px rgba(0,0,0,.35)}
    h1{margin:0 0 6px; text-align:center; font-weight:700}
    p.caption{margin:0 0 14px; text-align:center; color:var(--ink-dim)}

    .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); gap:10px}
    .chip{display:flex; align-items:center; justify-content:center; padding:12px; border-radius:12px; background:var(--chip); border:2px solid transparent; cursor:pointer; user-select:none; transition:transform .08s ease, border-color .15s ease, background .15s ease, font-size .1s ease; color:var(--chip-text); font-weight:700}
    .chip:active{transform:translateY(1px)}
    .chip.selected{border-color:var(--chip-sel); background:var(--chip-sel-bg); color:#ffffff; font-size:110%}

    .row{display:flex; gap:8px; flex-wrap:wrap; margin-top:12px}
    input[type=text]{flex:1; min-width:160px; padding:12px; border-radius:10px; border:1px solid var(--border); background:#22313a; color:var(--ink); outline:none}
    button{appearance:none; border:0; border-radius:10px; padding:12px 14px; font-weight:700; cursor:pointer; color:#0a171f}
    .btn{background:var(--accent)}
    .btn.secondary{background:var(--accent-2)}
    .btn.ghost{background:transparent; color:var(--ink); border:1px solid var(--border)}
    .btn:disabled{opacity:.5; cursor:not-allowed}

    .results{margin-top:16px; background:#21303a; border:1px solid var(--border); border-radius:14px; padding:14px}
    .group{border:1px dashed var(--border); border-radius:10px; padding:10px; margin:10px 0}
    .group h3{margin:0 0 6px}
    .team{padding:6px 8px; border-radius:8px; background:#1e2a33; margin:6px 0; border:1px solid #32414b}
    .format{margin-top:10px; padding:10px; border-radius:10px; background:#1a2e24; border:1px solid #2d5643}
    .tiny{color:var(--ink-dim); font-size:12px}
  </style>
</head>
<body>
  <div style="position: fixed; top: 20px; left: 20px; z-index: 999;">
  <a href="index.html" style="
    background: white;
    color: black;
    padding: 10px 16px;
    text-decoration: none;
    font-weight: bold;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    font-family: sans-serif;
  ">← Home</a>
</div>

  <div class="app" role="application" aria-label="Golf Pairings Randomizer">
    <h1>Golf Pairings Randomizer</h1>
    <p class="caption">Tap up to 8 players, add extras if needed, then create a truly random draw + match format.</p>

    <!-- Predefined roster -->
    <div id="roster" class="grid" aria-label="Available players"></div>

    <!-- Add manual name -->
    <div class="row" aria-label="Add player manually">
      <input id="nameInput" type="text" placeholder="Add a name (optional)" autocomplete="off" />
      <button class="btn secondary" id="addBtn">Add</button>
      <button class="btn ghost" id="clearBtn">Clear Selections</button>
      <button class="btn" id="createBtn" disabled>Create Draw</button>
    </div>

    <!-- Results -->
    <div class="results" id="results" hidden>
      <div id="groups"></div>
      <div class="format" id="formatBox"></div>
      <p class="tiny">Randomness uses <code>crypto.getRandomValues</code> when available.</p>
    </div>
  </div>

<script>
(function(){
  // Defaults shown as selectable chips
  const defaultNames = [
    'Carl','Chinz','Christian','Doaky','Dunc','Jim','Mark','Mike','Panda','Paul'
  ];

  const rosterEl = document.getElementById('roster');
  const nameInput = document.getElementById('nameInput');
  const addBtn = document.getElementById('addBtn');
  const clearBtn = document.getElementById('clearBtn');
  const createBtn = document.getElementById('createBtn');
  const results = document.getElementById('results');
  const groupsEl = document.getElementById('groups');
  const formatBox = document.getElementById('formatBox');

  const selected = new Set();

  // Render chips for default names and any added names
  function renderRoster(){
    rosterEl.innerHTML = '';
    const all = defaultNames.slice();
    // Include any added (non-duplicate) names that aren't in defaults
    addedManual.forEach(n=>{ if(!all.includes(n)) all.push(n); });
    all.forEach(name=>{
      const chip = document.createElement('button');
      chip.type='button';
      chip.className = 'chip' + (selected.has(name) ? ' selected' : '');
      chip.textContent = name;
      chip.setAttribute('aria-pressed', selected.has(name));
      chip.addEventListener('click', ()=>toggleSelect(name));
      rosterEl.appendChild(chip);
    });
    updateCreateState();
  }

  function toggleSelect(name){
    if(selected.has(name)){
      selected.delete(name);
    }else{
      if(selected.size >= 8){
        alert('You can select up to 8 players.');
        return;
      }
      selected.add(name);
    }
    renderRoster();
  }

  // Manual adds
  const addedManual = [];
  addBtn.addEventListener('click', ()=>{
    const n = (nameInput.value||'').trim();
    if(!n) return;
    if(defaultNames.includes(n) || addedManual.includes(n)){
      nameInput.value=''; return;
    }
    addedManual.push(n);
    nameInput.value='';
    renderRoster();
  });
  nameInput.addEventListener('keydown', (e)=>{
    if(e.key==='Enter') addBtn.click();
  });

  clearBtn.addEventListener('click', ()=>{
    selected.clear();
    renderRoster();
    results.hidden = true;
  });

  function updateCreateState(){
    const n = selected.size;
    createBtn.disabled = !(n>=4 && n<=8);
  }

  function cRandInt(max){
    if(window.crypto && window.crypto.getRandomValues){
      const arr = new Uint32Array(1); window.crypto.getRandomValues(arr); return arr[0] % max;
    }
    return Math.floor(Math.random()*max);
  }
  function shuffle(arr){
    const a = arr.slice();
    for(let i=a.length-1;i>0;i--){ const j=cRandInt(i+1); [a[i],a[j]]=[a[j],a[i]]; }
    return a;
  }
  function pick(arr){ return arr[cRandInt(arr.length)] }

  function makeGroups(list){
    const p = shuffle(list);
    const n = p.length;
    const out = [];

    if(n === 8){
      const teams = [[p[0],p[1]],[p[2],p[3]],[p[4],p[5]],[p[6],p[7]]];
      const idxs = shuffle([0,1,2,3]);
      out.push({ title:'Group 1 (off first)', teams:[ teams[idxs[0]], teams[idxs[1]] ]});
      out.push({ title:'Group 2', teams:[ teams[idxs[2]], teams[idxs[3]] ]});
      return out;
    }
    if(n === 7){
      out.push({ title:'Group 1 (off first)', teams:[ [p[0],p[1],p[2]] ]});
      out.push({ title:'Group 2', teams:[ [p[3],p[4]], [p[5],p[6]] ]});
      return out;
    }
    if(n === 6){
      const g1=[p[0],p[1],p[2]]; const g2=[p[3],p[4],p[5]];
      if(cRandInt(2)===0){
        out.push({title:'Group 1 (off first)', teams:[g1]}); out.push({title:'Group 2', teams:[g2]});
      }else{
        out.push({title:'Group 1 (off first)', teams:[g2]}); out.push({title:'Group 2', teams:[g1]});
      }
      return out;
    }
    if(n === 5){
      out.push({ title:'Group 1 (off first)', teams:[ [p[0],p[1]] ]});
      out.push({ title:'Group 2', teams:[ [p[2],p[3],p[4]] ]});
      return out;
    }
    if(n === 4){
      out.push({ title:'Group 1 (off first)', teams:[ [p[0],p[1]] ]});
      out.push({ title:'Group 2', teams:[ [p[2],p[3]] ]});
      return out;
    }
    throw new Error('Need 4–8 players selected.');
  }

  const FORMATS = ['Best Ball','Reach Back','Combined','Best Ball & Reach back'];

  function groupHasFour(g){
    // sum members in a group
    return g.teams.reduce((sum,t)=> sum + (Array.isArray(t)?t.length:0), 0) === 4;
  }

  createBtn.addEventListener('click', ()=>{
    const list = Array.from(selected);
    if(list.length < 4 || list.length > 8){
      alert('Select between 4 and 8 players.');
      return;
    }

    // Build groups
    const groups = makeGroups(list);
    groupsEl.innerHTML = '';
    groups.forEach(g=>{
      const box = document.createElement('div');
      box.className='group';
      box.innerHTML = `<h3>${g.title}</h3>` + g.teams.map(t=>`<div class="team">${t.join(' · ')}</div>`).join('');
      groupsEl.appendChild(box);
    });

    // Format rule: if no group of 4, force "Split 6"; otherwise random selection
    const anyGroupOf4 = groups.some(groupHasFour);
    const format = anyGroupOf4 ? pick(FORMATS) : 'Split 6';
    formatBox.innerHTML = `<strong>Format:</strong> ${format}`;

    results.hidden = false;
  });

  // Init render
  renderRoster();
})();
</script>
</body>
</html>


